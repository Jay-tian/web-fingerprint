"use strict";var _createClass=function(){function a(t,e){for(var i=0;i<e.length;i++){var a=e[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,e,i){return e&&a(t.prototype,e),i&&a(t,i),t}}();function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}module.exports=function(){function e(t){_classCallCheck(this,e),this.params=Object.assign({size:"30px",color:"#f1f1f1",id:"fingerprint",text:"Jay",density:200,clarity:1,supportTip:"你的浏览器不支持Canvas"},t),this._init(),this._intervalometer()}return _createClass(e,[{key:"resetText",value:function(t){this.params.text=t,this._init()}},{key:"_init",value:function(){this._createCanvas(),this._fill()}},{key:"_intervalometer",value:function(){var t=this;window.setInterval(function(){document.getElementById(t.params.id)||t._init()},1e3)}},{key:"_createCanvas",value:function(){var t=document.getElementById(this.params.id);t&&t.parentNode.removeChild(t);var e=document.getElementsByTagName("body"),i=window.screen.width,a=window.screen.height,n=document.createElement("canvas");n.setAttribute("id",this.params.id),n.innerHTML=this.params.supportTip,n.width=i*this.params.clarity,n.height=a*this.params.clarity,n.style.cssText="position: fixed;width: 100%;height: 100%;left:0;top:0;z-index: -1;",e[0].appendChild(n)}},{key:"_fill",value:function(){var t=document.getElementById(this.params.id).getContext("2d"),e=window.screen.width*this.params.clarity/this.params.density,i=window.screen.height*this.params.clarity*1.5/this.params.density;t.rotate(-15*Math.PI/180);for(var a=0;a<e;a++)for(var n=0;n<i;n++)t.fillStyle=this.params.color,t.font=this.params.size+" Arial",t.fillText(this.params.text,this.params.density*a,n*this.params.density)}}]),e}();